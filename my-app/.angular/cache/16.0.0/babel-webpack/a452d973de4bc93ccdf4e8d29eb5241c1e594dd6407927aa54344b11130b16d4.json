{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { HttpHeaders } from '@angular/common/http';\nimport { NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"../service/product.service\";\nimport * as i4 from \"../service/cart.service\";\nimport * as i5 from \"@angular/common\";\nconst _c0 = [\"dropdown\"];\nfunction HeaderComponent_div_8_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 2);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_div_8_li_2_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const category_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.onCategorySelected(category_r7));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", category_r7, \" \");\n  }\n}\nfunction HeaderComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"ul\");\n    i0.ɵɵtemplate(2, HeaderComponent_div_8_li_2_Template, 2, 1, \"li\", 14);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.categories);\n  }\n}\nfunction HeaderComponent_li_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 15);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_li_13_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onLoginClicked());\n    });\n    i0.ɵɵtext(2, \"Login\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction HeaderComponent_li_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 16);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_li_14_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onHideProductList());\n    });\n    i0.ɵɵtext(2, \"Register\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction HeaderComponent_li_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 17);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Welcome, \", ctx_r3.username, \"\");\n  }\n}\nfunction HeaderComponent_li_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 2);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_li_16_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.logout());\n    });\n    i0.ɵɵtext(2, \"Log Out\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction HeaderComponent_li_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 18);\n    i0.ɵɵtext(2, \"Account\");\n    i0.ɵɵelementEnd()();\n  }\n}\nclass HeaderComponent {\n  onLoginCompleted() {\n    this.loginCompleted.emit();\n  }\n  onLoginClicked() {\n    this.loginClicked.emit();\n  }\n  constructor(router, http, renderer, productService, cartService) {\n    this.router = router;\n    this.http = http;\n    this.renderer = renderer;\n    this.productService = productService;\n    this.cartService = cartService;\n    this.userLoggedIn = new EventEmitter();\n    this.loginClicked = new EventEmitter();\n    this.loginCompleted = new EventEmitter();\n    this.refresh = false;\n    this.hideProductList = new EventEmitter();\n    this.showProductList = new EventEmitter();\n    this.username = null;\n    this.password = null;\n    this.categories = [];\n    this.cartItemCount = 0;\n    this.selectedCategory = 'All';\n    this.isMenuDisplayed = false;\n  }\n  ngOnInit() {\n    this.username = localStorage.getItem('username');\n    this.password = localStorage.getItem('password');\n    this.getCategories();\n    this.cartService.cartItemCount.subscribe(count => {\n      this.cartItemCount = count;\n    });\n    this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(event => {\n      // Refresh username\n      this.username = localStorage.getItem('username');\n      this.password = localStorage.getItem('password');\n      console.log(\"Show product events\");\n      // Emit hideProductList\n      if (event.url === '/' || event.url === '') {\n        this.showProductList.emit();\n        return;\n        // Execute some code here if navigated to home page\n      }\n\n      this.hideProductList.emit();\n      // // Emit hideProductList\n      // if (this.username) {\n      //   this.userLoggedIn.emit();\n      //   // Execute some code here when username exists\n      // }\n    });\n  }\n\n  onCategorySelected(category) {\n    this.selectedCategory = category;\n    this.productService.setSelectedCategory(category);\n  }\n  getCategories() {\n    this.http.get('http://localhost:8080/categories').subscribe(data => {\n      this.categories = data;\n    });\n  }\n  toggleMenu() {\n    this.isMenuDisplayed = !this.isMenuDisplayed;\n  }\n  logout() {\n    const token = this.getCSRFToken();\n    if (token) {\n      const username = 'tayho';\n      const password = 'kkkkkk';\n      const basicAuth = 'Basic ' + btoa(username + ':' + password);\n      const headers = new HttpHeaders({\n        'x-csrf-token': token,\n        'Authorization': basicAuth\n      });\n      this.http.post('http://localhost:8080/logout', {}, {\n        headers: headers,\n        withCredentials: true\n      }).subscribe(() => {\n        this.username = null;\n        localStorage.removeItem('username');\n        this.router.navigate(['/']);\n      }, error => {\n        console.error(error); // Log the error to console for debugging\n        // Use whatever method you prefer for showing the error to the user.\n        // This could be a simple alert, or a more user-friendly UI element in your application.\n        alert('Logout failed. Error: ' + error.message);\n      });\n    }\n  }\n  updateCartItemCount() {\n    this.cartItemCount = this.cartService.getCartSize();\n  }\n  onHideProductList() {\n    this.hideProductList.emit();\n  }\n  onShowProductList() {\n    this.hideProductList.emit();\n  }\n  returnToHomePage() {\n    console.log(\"returnToHome\");\n    this.productService.setSelectedCategory(\"All\");\n    this.router.navigate(['/']);\n    this.showProductList.emit();\n  }\n  createHeaders() {\n    const csrfToken = this.getCSRFToken();\n    const username = localStorage.getItem('username');\n    const password = localStorage.getItem('password');\n    let headers = new HttpHeaders();\n    if (csrfToken) {\n      headers = headers.append('x-csrf-token', csrfToken);\n    }\n    return headers;\n  }\n  getCSRFToken() {\n    return localStorage.getItem('csrfToken');\n  }\n}\nHeaderComponent.ɵfac = function HeaderComponent_Factory(t) {\n  return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i3.ProductService), i0.ɵɵdirectiveInject(i4.CartService));\n};\nHeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HeaderComponent,\n  selectors: [[\"app-header\"]],\n  viewQuery: function HeaderComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dropdown = _t.first);\n    }\n  },\n  inputs: {\n    refresh: \"refresh\"\n  },\n  outputs: {\n    userLoggedIn: \"userLoggedIn\",\n    loginClicked: \"loginClicked\",\n    loginCompleted: \"loginCompleted\",\n    hideProductList: \"hideProductList\",\n    showProductList: \"showProductList\"\n  },\n  decls: 23,\n  vars: 7,\n  consts: [[1, \"containerv2\"], [1, \"logo\", 2, \"display\", \"inline-block\"], [3, \"click\"], [\"src\", \"assets/images/computer.jpg\", \"alt\", \"Electronic Store\"], [2, \"display\", \"inline-block\"], [\"id\", \"menu_icon\", \"src\", \"assets/images/menu_icon.png\", \"alt\", \"Menu Icon\"], [\"style\", \"display:inline-block\", \"class\", \"dropdown-content\", 4, \"ngIf\"], [1, \"search-bar\"], [\"type\", \"text\", \"placeholder\", \"Search\"], [4, \"ngIf\"], [\"routerLink\", \"/cart\", 3, \"click\"], [\"src\", \"assets/images/cart.png\", \"alt\", \"Shopping Cart\"], [1, \"cart-item-count\"], [1, \"dropdown-content\", 2, \"display\", \"inline-block\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"/login\", 3, \"click\"], [\"routerLink\", \"/register\", 3, \"click\"], [\"href\", \"#\"], [\"routerLink\", \"/account\"]],\n  template: function HeaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"a\", 2);\n      i0.ɵɵlistener(\"click\", function HeaderComponent_Template_a_click_2_listener() {\n        return ctx.returnToHomePage();\n      });\n      i0.ɵɵelement(3, \"img\", 3);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtext(4, \" \\u00A0 \");\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"span\", 2);\n      i0.ɵɵlistener(\"click\", function HeaderComponent_Template_span_click_6_listener() {\n        return ctx.toggleMenu();\n      });\n      i0.ɵɵelement(7, \"img\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(8, HeaderComponent_div_8_Template, 3, 1, \"div\", 6);\n      i0.ɵɵelementStart(9, \"div\", 7);\n      i0.ɵɵelement(10, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"nav\")(12, \"ul\");\n      i0.ɵɵtemplate(13, HeaderComponent_li_13_Template, 3, 0, \"li\", 9);\n      i0.ɵɵtemplate(14, HeaderComponent_li_14_Template, 3, 0, \"li\", 9);\n      i0.ɵɵtemplate(15, HeaderComponent_li_15_Template, 3, 1, \"li\", 9);\n      i0.ɵɵtemplate(16, HeaderComponent_li_16_Template, 3, 0, \"li\", 9);\n      i0.ɵɵelementStart(17, \"li\")(18, \"a\", 10);\n      i0.ɵɵlistener(\"click\", function HeaderComponent_Template_a_click_18_listener() {\n        return ctx.onHideProductList();\n      });\n      i0.ɵɵelement(19, \"img\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"span\", 12);\n      i0.ɵɵtext(21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(22, HeaderComponent_li_22_Template, 3, 0, \"li\", 9);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.isMenuDisplayed);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !ctx.username);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.username);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.username);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.username);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.cartItemCount);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.username);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i1.RouterLink],\n  styles: [\"*[_ngcontent-%COMP%] {\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n  box-sizing: border-box;\\r\\n}\\r\\n\\r\\nbody[_ngcontent-%COMP%] {\\r\\n  font-family: Arial, sans-serif;\\r\\n  background-color: #f2f2f2;\\r\\n\\r\\n}\\r\\n\\r\\n.containerv2[_ngcontent-%COMP%] {\\r\\n  width:100%;\\r\\n\\r\\n  height:15%;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  background-color: #ffffff;\\r\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n\\r\\n.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n  height: 50px;\\r\\n}\\r\\n\\r\\n.menu-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n  height: 24px;\\r\\n}\\r\\n\\r\\n.search-bar[_ngcontent-%COMP%] {\\r\\n  margin-left: 120px;\\r\\n  margin-right: 260px;\\r\\n  width:50%\\r\\n}\\r\\n\\r\\n.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  padding: 8px 16px;\\r\\n  border: 1px solid #ccc;\\r\\n  border-radius: 24px;\\r\\n  font-size: 14px;\\r\\n  background-color: #f2f2f2;\\r\\n  transition: all 0.3s;\\r\\n  margin-left:20%\\r\\n}\\r\\n\\r\\n.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus {\\r\\n  outline: none;\\r\\n  background-color: #ffffff;\\r\\n  border-color: #999999;\\r\\n}\\r\\n\\r\\nnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  list-style-type: none;\\r\\n}\\r\\n\\r\\nnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\r\\n  margin-left: 20px;\\r\\n}\\r\\n\\r\\nnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n  text-decoration: none;\\r\\n  color: #333;\\r\\n  font-size: 18px;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\nnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n  height: 24px;\\r\\n  margin-left: 5px;\\r\\n}\\r\\n#menu_icon[_ngcontent-%COMP%]{\\r\\npadding-top:5px; \\r\\n width:60px;\\r\\n height:70px;\\r\\n display: inline-block;\\r\\n\\r\\n\\r\\n}\\r\\n\\r\\n\\r\\n.cart-item-count[_ngcontent-%COMP%] {\\r\\n \\r\\n  background-color: red;\\r\\n  color: white;\\r\\n  padding: 2px 6px;\\r\\n  border-radius: 50%;\\r\\n  font-size: 12px;\\r\\n}\\r\\n.dropdown-content[_ngcontent-%COMP%]{\\r\\n  position: absolute;\\r\\n  z-index: 1; \\r\\n  margin-left:9%;\\r\\n  margin-top:9%;\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.dropdown-content.show[_ngcontent-%COMP%] {\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.dropdown-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\r\\n  background-color: #f9f9f9; \\r\\n  list-style-type: none; \\r\\n  border: 1px solid #ccc; \\r\\n  border-radius: 4px; \\r\\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2); \\r\\n  padding: 0; \\r\\n  width: 200px; \\r\\n}\\r\\n\\r\\n.dropdown-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\r\\n  padding: 10px 20px; \\r\\n  cursor: pointer; \\r\\n}\\r\\n\\r\\n.dropdown-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #e9e9e9; \\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaGVhZGVyL2hlYWRlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsU0FBUztFQUNULFVBQVU7RUFDVixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSw4QkFBOEI7RUFDOUIseUJBQXlCOztBQUUzQjs7QUFFQTtFQUNFLFVBQVU7O0VBRVYsVUFBVTtFQUNWLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIseUJBQXlCO0VBQ3pCLHdDQUF3QztBQUMxQzs7O0FBR0E7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CO0FBQ0Y7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsaUJBQWlCO0VBQ2pCLHNCQUFzQjtFQUN0QixtQkFBbUI7RUFDbkIsZUFBZTtFQUNmLHlCQUF5QjtFQUN6QixvQkFBb0I7RUFDcEI7QUFDRjs7QUFFQTtFQUNFLGFBQWE7RUFDYix5QkFBeUI7RUFDekIscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsV0FBVztFQUNYLGVBQWU7RUFDZixhQUFhO0VBQ2IsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGdCQUFnQjtBQUNsQjtBQUNBO0FBQ0EsZUFBZTtDQUNkLFVBQVU7Q0FDVixXQUFXO0NBQ1gscUJBQXFCOzs7QUFHdEI7OztBQUdBOztFQUVFLHFCQUFxQjtFQUNyQixZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixlQUFlO0FBQ2pCO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsVUFBVTtFQUNWLGNBQWM7RUFDZCxhQUFhO0VBQ2IsYUFBYTtBQUNmOztBQUVBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTtFQUNFLHlCQUF5QixFQUFFLDBCQUEwQjtFQUNyRCxxQkFBcUIsRUFBRSx5QkFBeUI7RUFDaEQsc0JBQXNCLEVBQUUsZUFBZTtFQUN2QyxrQkFBa0IsRUFBRSxvQkFBb0I7RUFDeEMsNENBQTRDLEVBQUUsZUFBZTtFQUM3RCxVQUFVLEVBQUUsbUJBQW1CO0VBQy9CLFlBQVksRUFBRSxtQ0FBbUM7QUFDbkQ7O0FBRUE7RUFDRSxrQkFBa0IsRUFBRSxnQkFBZ0I7RUFDcEMsZUFBZSxFQUFFLDJCQUEyQjtBQUM5Qzs7QUFFQTtFQUNFLHlCQUF5QixFQUFFLCtCQUErQjtBQUM1RCIsInNvdXJjZXNDb250ZW50IjpbIioge1xyXG4gIG1hcmdpbjogMDtcclxuICBwYWRkaW5nOiAwO1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuXHJcbmJvZHkge1xyXG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xyXG5cclxufVxyXG5cclxuLmNvbnRhaW5lcnYyIHtcclxuICB3aWR0aDoxMDAlO1xyXG5cclxuICBoZWlnaHQ6MTUlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbn1cclxuXHJcblxyXG4ubG9nbyBpbWcge1xyXG4gIGhlaWdodDogNTBweDtcclxufVxyXG5cclxuLm1lbnUtaWNvbiBpbWcge1xyXG4gIGhlaWdodDogMjRweDtcclxufVxyXG5cclxuLnNlYXJjaC1iYXIge1xyXG4gIG1hcmdpbi1sZWZ0OiAxMjBweDtcclxuICBtYXJnaW4tcmlnaHQ6IDI2MHB4O1xyXG4gIHdpZHRoOjUwJVxyXG59XHJcblxyXG4uc2VhcmNoLWJhciBpbnB1dCB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgcGFkZGluZzogOHB4IDE2cHg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICBib3JkZXItcmFkaXVzOiAyNHB4O1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjNzO1xyXG4gIG1hcmdpbi1sZWZ0OjIwJVxyXG59XHJcblxyXG4uc2VhcmNoLWJhciBpbnB1dDpmb2N1cyB7XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gIGJvcmRlci1jb2xvcjogIzk5OTk5OTtcclxufVxyXG5cclxubmF2IHVsIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xyXG59XHJcblxyXG5uYXYgdWwgbGkge1xyXG4gIG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG59XHJcblxyXG5uYXYgdWwgbGkgYSB7XHJcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gIGNvbG9yOiAjMzMzO1xyXG4gIGZvbnQtc2l6ZTogMThweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbm5hdiB1bCBsaSBhIGltZyB7XHJcbiAgaGVpZ2h0OiAyNHB4O1xyXG4gIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbn1cclxuI21lbnVfaWNvbntcclxucGFkZGluZy10b3A6NXB4OyBcclxuIHdpZHRoOjYwcHg7XHJcbiBoZWlnaHQ6NzBweDtcclxuIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuXHJcblxyXG59XHJcblxyXG5cclxuLmNhcnQtaXRlbS1jb3VudCB7XHJcbiBcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHBhZGRpbmc6IDJweCA2cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIGZvbnQtc2l6ZTogMTJweDtcclxufVxyXG4uZHJvcGRvd24tY29udGVudHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgei1pbmRleDogMTsgXHJcbiAgbWFyZ2luLWxlZnQ6OSU7XHJcbiAgbWFyZ2luLXRvcDo5JTtcclxuICBkaXNwbGF5OiBub25lO1xyXG59XHJcblxyXG4uZHJvcGRvd24tY29udGVudC5zaG93IHtcclxuICBkaXNwbGF5OiBibG9jaztcclxufVxyXG5cclxuLmRyb3Bkb3duLWNvbnRlbnQgdWwge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7IC8qIExpZ2h0IGdyYXkgYmFja2dyb3VuZCAqL1xyXG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTsgLyogUmVtb3ZlIGJ1bGxldCBwb2ludHMgKi9cclxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOyAvKiBBZGQgYm9yZGVyICovXHJcbiAgYm9yZGVyLXJhZGl1czogNHB4OyAvKiBSb3VuZGVkIGNvcm5lcnMgKi9cclxuICBib3gtc2hhZG93OiAwcHggOHB4IDE2cHggMHB4IHJnYmEoMCwwLDAsMC4yKTsgLyogQWRkIHNoYWRvdyAqL1xyXG4gIHBhZGRpbmc6IDA7IC8qIFJlbW92ZSBwYWRkaW5nICovXHJcbiAgd2lkdGg6IDIwMHB4OyAvKiBGaXhlZCB3aWR0aCAtIGFkanVzdCBhcyBuZWVkZWQgKi9cclxufVxyXG5cclxuLmRyb3Bkb3duLWNvbnRlbnQgdWwgbGkge1xyXG4gIHBhZGRpbmc6IDEwcHggMjBweDsgLyogQWRkIHBhZGRpbmcgKi9cclxuICBjdXJzb3I6IHBvaW50ZXI7IC8qIENoYW5nZSBjdXJzb3Igb24gaG92ZXIgKi9cclxufVxyXG5cclxuLmRyb3Bkb3duLWNvbnRlbnQgdWwgbGk6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlOWU5ZTk7IC8qIENoYW5nZSBiYWNrZ3JvdW5kIG9uIGhvdmVyICovXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { HeaderComponent };","map":{"version":3,"names":["EventEmitter","HttpHeaders","NavigationEnd","filter","i0","ɵɵelementStart","ɵɵlistener","HeaderComponent_div_8_li_2_Template_li_click_0_listener","restoredCtx","ɵɵrestoreView","_r9","category_r7","$implicit","ctx_r8","ɵɵnextContext","ɵɵresetView","onCategorySelected","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵtemplate","HeaderComponent_div_8_li_2_Template","ɵɵproperty","ctx_r0","categories","HeaderComponent_li_13_Template_a_click_1_listener","_r11","ctx_r10","onLoginClicked","HeaderComponent_li_14_Template_a_click_1_listener","_r13","ctx_r12","onHideProductList","ctx_r3","username","HeaderComponent_li_16_Template_a_click_1_listener","_r15","ctx_r14","logout","HeaderComponent","onLoginCompleted","loginCompleted","emit","loginClicked","constructor","router","http","renderer","productService","cartService","userLoggedIn","refresh","hideProductList","showProductList","password","cartItemCount","selectedCategory","isMenuDisplayed","ngOnInit","localStorage","getItem","getCategories","subscribe","count","events","pipe","event","console","log","url","category","setSelectedCategory","get","data","toggleMenu","token","getCSRFToken","basicAuth","btoa","headers","post","withCredentials","removeItem","navigate","error","alert","message","updateCartItemCount","getCartSize","onShowProductList","returnToHomePage","createHeaders","csrfToken","append","ɵɵdirectiveInject","i1","Router","i2","HttpClient","Renderer2","i3","ProductService","i4","CartService","selectors","viewQuery","HeaderComponent_Query","rf","ctx","HeaderComponent_Template_a_click_2_listener","ɵɵelement","HeaderComponent_Template_span_click_6_listener","HeaderComponent_div_8_Template","HeaderComponent_li_13_Template","HeaderComponent_li_14_Template","HeaderComponent_li_15_Template","HeaderComponent_li_16_Template","HeaderComponent_Template_a_click_18_listener","HeaderComponent_li_22_Template","ɵɵtextInterpolate"],"sources":["C:\\Users\\msitr\\OneDrive\\Desktop\\AngularProject\\my-app\\src\\app\\header\\header.component.ts","C:\\Users\\msitr\\OneDrive\\Desktop\\AngularProject\\my-app\\src\\app\\header\\header.component.html"],"sourcesContent":["import { Component, OnInit, ElementRef, Renderer2, ViewChild, EventEmitter, Output, Input } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { Category } from '../models/category.model';\nimport { CartService } from '../service/cart.service';\nimport { ProductService } from '../service/product.service';\nimport { filter } from 'rxjs';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent implements OnInit {\n\n  @Output() userLoggedIn: EventEmitter<void> = new EventEmitter<void>();\n\n  @Output() loginClicked: EventEmitter<void> = new EventEmitter<void>();\n  @Output() loginCompleted: EventEmitter<void> = new EventEmitter<void>();\n\n  onLoginCompleted(): void {\n    this.loginCompleted.emit();\n  }\n  onLoginClicked(): void {\n    this.loginClicked.emit();\n  }\n\n  @Input() refresh: boolean = false;\n\n\n  @Output() hideProductList: EventEmitter<void> = new EventEmitter<void>();\n  @Output() showProductList: EventEmitter<void> = new EventEmitter<void>();\n\n\n  @ViewChild('dropdown') dropdown!: ElementRef;\n  username: string | null = null;\n  password: string | null = null;\n  public categories: string[] = [];\n  \n  cartItemCount: number = 0;\n  selectedCategory: string = 'All';\n\n\n  constructor(private router: Router, private http: HttpClient, private renderer: Renderer2,private productService:ProductService,private cartService: CartService) { }\n\n  ngOnInit(): void {\n    this.username = localStorage.getItem('username');\n    this.password = localStorage.getItem('password');\n    this.getCategories();\n\n    this.cartService.cartItemCount.subscribe((count: number) => {\n      this.cartItemCount = count;\n    });\n\n    this.router.events.pipe(\n      filter((event): event is NavigationEnd => event instanceof NavigationEnd)\n    ).subscribe((event: NavigationEnd) => {\n      // Refresh username\n      this.username = localStorage.getItem('username');\n      this.password = localStorage.getItem('password');\n      console.log(\"Show product events\");\n\n      // Emit hideProductList\n      if (event.url === '/' || event.url === '') {\n        this.showProductList.emit();\n        return;\n        // Execute some code here if navigated to home page\n      }\n      this.hideProductList.emit();\n\n      // // Emit hideProductList\n      // if (this.username) {\n      //   this.userLoggedIn.emit();\n      //   // Execute some code here when username exists\n      // }\n        \n\n    });\n\n  }\n\n  onCategorySelected(category: string): void {\n    this.selectedCategory = category;\n    this.productService.setSelectedCategory(category);\n  }\n\n\n  getCategories() {\n    this.http.get<string[]>('http://localhost:8080/categories').subscribe((data: string[]) => {\n      this.categories = data;\n    });\n}\nisMenuDisplayed = false;\n\ntoggleMenu() {\n  this.isMenuDisplayed = !this.isMenuDisplayed;\n}\n\n  logout(): void {\n    const token = this.getCSRFToken();\n    \n    if (token) {\n      const username = 'tayho';\n      const password = 'kkkkkk';\n      const basicAuth = 'Basic ' + btoa(username + ':' + password);\n  \n      const headers = new HttpHeaders({\n        'x-csrf-token': token,\n        'Authorization': basicAuth\n      });\n  \n      this.http.post('http://localhost:8080/logout', {}, { headers: headers, withCredentials: true }).subscribe(() => {\n        this.username = null;\n        localStorage.removeItem('username');\n        this.router.navigate(['/']);\n      },\n      (error) => {\n        console.error(error);  // Log the error to console for debugging\n        // Use whatever method you prefer for showing the error to the user.\n        // This could be a simple alert, or a more user-friendly UI element in your application.\n        alert('Logout failed. Error: ' + error.message);\n      });\n    }\n  }\n  \n  \n\n  updateCartItemCount(): void {\n    this.cartItemCount = this.cartService.getCartSize();\n  }\n\n  onHideProductList(): void {\n    this.hideProductList.emit();\n  }\n  onShowProductList(): void {\n    this.hideProductList.emit();\n  }\n\n  returnToHomePage():void{\n    console.log(\"returnToHome\");\n    this.productService.setSelectedCategory(\"All\");\n    this.router.navigate(['/']);\n\n    this.showProductList.emit();\n    \n  }\n\n\n\n\n\n  \n  private createHeaders(): HttpHeaders {\n    const csrfToken = this.getCSRFToken();\n    const username = localStorage.getItem('username');\n    const password = localStorage.getItem('password');\n\n    let headers = new HttpHeaders();\n    if(csrfToken) {\n      headers = headers.append('x-csrf-token', csrfToken);\n    }\n\n \n\n    return headers;\n  }\n\n  private getCSRFToken(): string | null {\n    return localStorage.getItem('csrfToken');\n  }\n}\n","<div class=\"containerv2\">\n  <div style=\"display:inline-block\" class=\"logo\">\n    <a (click)=\"returnToHomePage()\">\n      <img src=\"assets/images/computer.jpg\" alt=\"Electronic Store\">\n    </a>\n  </div> \n  &nbsp;\n  <div style=\"display:inline-block\">\n    <span (click)=\"toggleMenu()\">  \n      <img id=\"menu_icon\" src=\"assets/images/menu_icon.png\" alt=\"Menu Icon\">\n    </span>\n  </div>\n  \n  <div style=\"display:inline-block\" *ngIf=\"isMenuDisplayed\" class=\"dropdown-content\">\n    <ul>\n      <li (click)=\"onCategorySelected(category)\" *ngFor=\"let category of categories\">\n        {{ category }}\n      </li>\n    </ul>\n  </div>\n  \n  <div class=\"search-bar\">\n    <input type=\"text\" placeholder=\"Search\">\n  </div>\n  <nav>\n    <ul>\n      <li *ngIf=\"!username\"><a routerLink=\"/login\" (click)=\"onLoginClicked()\">Login</a></li>\n      <li *ngIf=\"!username\"><a routerLink=\"/register\" (click)=\"onHideProductList()\">Register</a></li>\n      <li *ngIf=\"username\"><a href=\"#\">Welcome, {{ username }}</a></li>\n      <!-- Account link added here -->\n      <li *ngIf=\"username\"><a (click)=\"logout()\">Log Out</a></li>\n      <li><a routerLink=\"/cart\" (click)=\"onHideProductList()\"><img src=\"assets/images/cart.png\" alt=\"Shopping Cart\"></a></li>\n      <span class=\"cart-item-count\">{{ cartItemCount }}</span>\n      <li *ngIf=\"username\"><a routerLink=\"/account\">Account</a></li>\n\n    </ul>\n  </nav>\n</div>\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}